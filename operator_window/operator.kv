



<OperationWindow>:
    # color variables with their default values set
    
    # =>#:set name value
    #:set mainColor (.06,.45,.45,1)#(254/255, 153/255, 0,1)
    #:set lineColor (.06,.45,.45,1)#(254/255, 153/255, 0,1)
    #:set buttonsBackgroundColor [1,1,1,1]
    #:set operationWindowBackgroundColor (1,1,1,1)
    #:set productsTitleLablesColor (.06,.45,.45,1)#(254/255, 153/255, 0,1)
    #:set productListTextColor (0.1, 0.1, 0.1, 1)
    #:set customTextInputBoxBorderColor (.06,.45,.45,1)
    #:set productSelectedBackgroundColor (.06,.45,.45,.5)
    #:set textTitleColor [1,1,1,1]
    #:set searchButtonTextColor (0.2,.2,.2,1)

    orientation:'vertical'
    canvas.before:
        Color:
            rgba:operationWindowBackgroundColor
        Rectangle:
            pos:self.pos
            size: self.size
    
    # the to title bar
    BoxLayout:
        canvas.before:
            Color:
                rgba:mainColor
            Rectangle:
                pos:self.pos
                size: self.size
        size_hint_y:None
        height:"35dp"
        Label:
            text:"BE.RMS"
    #the navigation bar
    BoxLayout:
        orientation:'horizontal'
        # designing the border colors
        canvas.after:
            Color:
                rgba: lineColor
            Line:
                width: 1
                rectangle: self.x, self.y, self.width, self.height
        size_hint_y:None
        height:"35dp"
        
        # home lable
        CustomNavigationButton:
            text: 'Home'
            on_press: root.changeToHomePage()
        # Daily Report button
        CustomNavigationButton:
            text: 'Daily Report'
            on_press: root.changeToDailyReportPage()
                
        # this box is just for layout perpose
        BoxLayout:

    # the main layout on which all the screens is displayed based on the nav button pressed
    BoxLayout:
        orientation:'horizontal'
        OperatorScreenManager:
            id:OperatorScreenManagerId
            # # screens
            # HomeScreen: 
            #     id:homeScreenId

            HomeScreen:
                id:homeScreenId
                name:'homeScreen'
                # Main boxlayout
                BoxLayout:
                    orientation:'horizontal'
                    # left boxlayout (PRODUCTS SECTION)
                    BoxLayout:
                        orientation:'vertical'
                        canvas.after:
                            Color:
                                rgba: lineColor
                            Line:
                                width: 1
                                rectangle: self.x, self.y, self.width, self.height
                        # title
                        CustomTitleLable:
                            text:"Products"
                            
                        # the product search box and button boxlayout
                        BoxLayout:
                            size_hint_y:None
                            height:"30dp"
                            # box for layout perpose
                            BoxLayout:
                                size_hint_x:0.2
                            # search text field
                            CustomTextInputBox:
                                id:searchTextId
                                size_hint_x:0.6

                            # box for layout perpose
                            BoxLayout:
                                size_hint_x:None
                                width:"20dp"

                            # search button
                            Button:
                                size_hint_x:None
                                width:"70dp"
                                text:"search"
                                color:searchButtonTextColor
                                on_press:root.searchProductsButtonFunction()
                            # box for layout perpose
                            BoxLayout:
                                size_hint_x:0.2


                        # boxlayout for the product to be displayed when we search them
                        BoxLayout:
                            orientation:"vertical"
                            # prodducts lables
                            # box for layout to creat space between the searchbox,button and the product lables
                            BoxLayout:
                                size_hint_y:None
                                height:"25dp"
                            BoxLayout:
                                size_hint_y:None
                                height:"30dp"
                                # box for layout perpose
                                BoxLayout:
                                    size_hint_x:0.3
                                # the name of the product lable
                                Label:
                                    text:" Id and Name"
                                    color:productsTitleLablesColor
                                    bold:True
                                    
                                # the quantity of the product in stock lable
                                # Label:
                                #     text:"Qt"
                                #     color:productsTitleLablesColor
                                # box for layout perpose
                                BoxLayout:
                                    size_hint_x:0.3
                            
                            # this is the boxlayout where the products details are inserted
                            BoxLayout:
                                canvas.before:
                                    Color:
                                        rgba:operationWindowBackgroundColor
                                    Rectangle:
                                        pos:self.pos
                                        size: self.size
                                # box for layout perpose
                                BoxLayout:
                                    size_hint_x:0.3

                                ProductsRecycleView:
                                    id:recycle_view_id

                                # box for layout perpose
                                BoxLayout:
                                    size_hint_x:0.3
                                    

                    # middle boxlayout
                    BoxLayout:
                        canvas.after:
                            Color:
                                rgba: lineColor
                            Line:
                                width: 1
                                rectangle: self.x, self.y, self.width, self.height
                    # right boxlayout
                    BoxLayout:
                        canvas.before:
                            Color:
                                rgba: lineColor
                            Line:
                                width: 1
                                rectangle: self.x, self.y, self.width, self.height




            DailyReportScreen:
                id:DailyReportScreenId




# Navigation buttons
<CustomNavigationButton@Button>:
    color:lineColor
    background_normal: ''  
    background_color:buttonsBackgroundColor
    size_hint_x:None
# ======================================SCREENS SECTION==========================
# operator screens
# <HomeScreen>:
#     name:'homeScreen'
#     # Main boxlayout
#     BoxLayout:
#         orientation:'horizontal'
#         # left boxlayout (PRODUCTS SECTION)
#         BoxLayout:
#             orientation:'vertical'
#             canvas.after:
#                 Color:
#                     rgba: lineColor
#                 Line:
#                     width: 1
#                     rectangle: self.x, self.y, self.width, self.height
#             # title
#             CustomTitleLable:
#                 text:"Products"
                
#             # the product search box and button boxlayout
#             BoxLayout:
#                 size_hint_y:None
#                 height:"30dp"
#                 # box for layout perpose
#                 BoxLayout:
#                     size_hint_x:0.2
#                 # search text field
#                 CustomTextInputBox:
#                     id:searchTextId
#                     size_hint_x:0.6

#                 # box for layout perpose
#                 BoxLayout:
#                     size_hint_x:None
#                     width:"20dp"

#                 # search button
#                 Button:
#                     size_hint_x:None
#                     width:"70dp"
#                     text:"search"
#                     color:searchButtonTextColor
#                 # box for layout perpose
#                 BoxLayout:
#                     size_hint_x:0.2


#             # boxlayout for the product to be displayed when we search them
#             BoxLayout:
#                 orientation:"vertical"
#                 # prodducts lables
#                 # box for layout to creat space between the searchbox,button and the product lables
#                 BoxLayout:
#                     size_hint_y:None
#                     height:"25dp"
#                 BoxLayout:
#                     size_hint_y:None
#                     height:"30dp"
#                     # box for layout perpose
#                     BoxLayout:
#                         size_hint_x:0.3
#                     # the name of the product lable
#                     Label:
#                         text:" Id and Name"
#                         color:productsTitleLablesColor
                        
#                     # the quantity of the product in stock lable
#                     # Label:
#                     #     text:"Qt"
#                     #     color:productsTitleLablesColor
#                     # box for layout perpose
#                     BoxLayout:
#                         size_hint_x:0.3
                
#                 # this is the boxlayout where the products details are inserted
#                 BoxLayout:
#                     canvas.before:
#                         Color:
#                             rgba:operationWindowBackgroundColor
#                         Rectangle:
#                             pos:self.pos
#                             size: self.size
#                     # box for layout perpose
#                     BoxLayout:
#                         size_hint_x:0.3

#                     ProductsRecycleView:
#                         id:recycle_view_id

#                     # box for layout perpose
#                     BoxLayout:
#                         size_hint_x:0.3
                        

#         # middle boxlayout
#         BoxLayout:
#             canvas.after:
#                 Color:
#                     rgba: lineColor
#                 Line:
#                     width: 1
#                     rectangle: self.x, self.y, self.width, self.height
#         # right boxlayout
#         BoxLayout:
#             canvas.before:
#                 Color:
#                     rgba: lineColor
#                 Line:
#                     width: 1
#                     rectangle: self.x, self.y, self.width, self.height



<DailyReportScreen>:
    name:'DailyReportScreen'
    Label:
        text:'DetailScreen screen'
        color: textTitleColor
        

# =====================================CUSTOM WIDGETS FOR THE SCREENS=====================
<CustomTitleLable@Label>:
    color: textTitleColor
    size_hint_y:None
    height:"50dp"
    font_size:'20sp'
    bold:True

<CustomTextInputBox@TextInput>:
#  changing the border color of the textinput field
    canvas.after:
        Color:
            rgba: customTextInputBoxBorderColor#(254/255, 153/255, 0,1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    background_normal:''
    background_active:''
    foreground_color: (0.2, 0.2, 0.2, 1)
    multiline:False
    font_family: 'Roboto'
    cursor_color:(0.2, 0.2, 0.2, 1)
    cursor_width:"2sp"
    size_hint_y:None
    height:"30dp"

# the data recyleview
<ProductsRecycleView@RecycleView>:
    viewclass:'SelectableLabel'
    bar_width:dp(10)
    bar_color:[.5,.5,.5,1]
    bar_inactive_color:[.7,.7,.7,1]
    SelectableRecycleBoxLayout:
        default_size:None,dp(56)
        default_size_hint:1,None
        size_hint_y:None
        height:self.minimum_height
        orientation:'vertical'
        multiselect:False
        touch_multiselect:False
    

<SelectableLabel>:
    canvas.before:
        Color:
            rgba: productSelectedBackgroundColor if self.selected else operationWindowBackgroundColor
        Rectangle:
            pos: self.pos
            size: self.size
    color:productListTextColor
<SelectableRecycleBoxLayout>:
