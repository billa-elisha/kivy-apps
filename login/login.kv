



# the main window
<LogInWindow>:
    # initialized variables
    #:set mainBackgroundColor (244/255,244/255,251/255)#(1,1,1,.95) 
    #:set primaryColor (.06,.45,.45,1) 
    #:set errorMessageColor (1,0,0,1) 
    #:set buttonColor (1/255,15/255,205/255)#(0/255,10/255,131/255) 
    #:set buttonTextColor (1,1,1)#(0/255,10/255,131/255) 

    # variables
    userName: userName
    password:password
    notAdminErrorMessage:notAdminErrorMessage
    userNameErrorMessage:userNameErrorMessage
    userPasswordErrorMessage:userPasswordErrorMessage

    orientation: 'vertical'
    # changing then background of the whole page to white
    canvas.before:
        Color:
            rgba:mainBackgroundColor
        Rectangle:
            pos:self.pos
            size: self.size

    # The sign in layout
    BoxLayout:
        size_hint_y:None
        hieght:"4dp"    
        # The login title
        Label:
            text: 'SIGN IN'
            color: primaryColor
            bold:True
            font_size:'30dp'

    # the input fields layout
    FloatLayout:
        # Error to be displayed if the user is not an admin but tries to get access
        Label:
            id:notAdminErrorMessage
            text:''
            color:errorMessageColor
            pos:('90dp','490dp')
            size_hint:(0.7,0.06)

        # Username textinput box
        CustomTextInputBox: 
            id:userName
            hint_text:"Username"
            pos:('100dp','440dp')
        # wrong username error text
        CustomErrorMessageLable:
            id:userNameErrorMessage
            text:''
            pos:('100dp','417dp')

        # password textinput box
        CustomTextInputBox: 
            id:password
            hint_text:"password"
            pos:('100dp','370dp')
            password:True
        # wrong username error text
        CustomErrorMessageLable:
            id:userPasswordErrorMessage
            text:''
            pos:('100dp','347dp')
        
        # admin checkbox and lable
        CheckBox:
            id:admin
            color:0, 0, 0,1
            size_hint:(0.45,0.08)
            pos:('10dp','318dp')
        Label:
            text:'Admin'
            color:0,0,0,1
            size_hint:(0.6,0.08)
            pos:('10dp','318dp')

        # submission button
        Button:
            text: 'Login'
	        background_normal: ''  
            background_color: primaryColor
            color: buttonTextColor#(0.2, 0.2, 0.2, 1)
            size_hint:(0.6,0.08)
            pos:('100dp','270dp')
            bold:True
            on_press: root.validateLogin(admin.active)



# =======================================CUSTOM WIDGETS============================================
<CustomTextInputBox@TextInput>:
#  changing the border color of the textinput field
    canvas.after:
        Color:
            rgba: primaryColor#(254/255, 153/255, 0,1)
        Line:
            width: 1
            rectangle: self.x, self.y, self.width, self.height
    background_normal:''
    background_active:''
    foreground_color: (0.2, 0.2, 0.2, 1)
    size_hint:(0.6,0.08)
    multilinez:False
    font_family: 'Roboto'
    font_size: '20sp'
    cursor_color:(0.2, 0.2, 0.2, 1)
    cursor_width:"2sp"

<CustomErrorMessageLable@Label>:
    color:errorMessageColor
    text_size:self.size
    size_hint:(0.7,0.06)